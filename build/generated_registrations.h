#pragma once

// Auto-generated hook registrations
// DO NOT EDIT - Generated by tools/generate_hooks.py

#include "sof_compat.h"
#include "shared_hook_manager.h"
#include "util.h"

extern qboolean cbuf_addlatecommands_override_callback(detour_Cbuf_AddLateCommands::tCbuf_AddLateCommands original);
extern void fs_initfilesystem_override_callback(detour_FS_InitFilesystem::tFS_InitFilesystem original);
extern void* gl_findimage_post_callback(void* result, char* filename, int imagetype, char mimap, char allowPicmip);
extern void hkCon_CheckResize(detour_Con_CheckResize::tCon_CheckResize original);
extern void hkCon_DrawConsole(float frac, detour_Con_DrawConsole::tCon_DrawConsole original);
extern void hkCon_DrawNotify(detour_Con_DrawNotify::tCon_DrawNotify original);
extern void hkCon_Init(detour_Con_Init::tCon_Init original);
extern void hkDraw_Pic(int x, int y, char const* imgname, int palette, detour_Draw_Pic::tDraw_Pic original);
extern void hkDraw_StretchPic(int x, int y, int w, int h, int palette, char* name, int flags, detour_Draw_StretchPic::tDraw_StretchPic original);
extern void hkSCR_DrawPlayerInfo(detour_SCR_DrawPlayerInfo::tSCR_DrawPlayerInfo original);
extern void scaledCon_EarlyStartup();
extern void scaledUIBase_RefDllLoaded(char const* name);
extern void sv_shutdowngameprogs_callback();
extern void* sys_getgameapi_override_callback(void* imports, detour_Sys_GetGameApi::tSys_GetGameApi original);
extern void vid_checkchanges_post();
extern qboolean vid_loadrefresh_override_callback(char const* name, detour_VID_LoadRefresh::tVID_LoadRefresh original);

inline void RegisterAllFeatureHooks() {
    SharedHookManager::Instance().RegisterCallback<char const*>(
        "RefDllLoaded", "scaled_ui_base", "scaledUIBase_RefDllLoaded",
        std::function<void(char const*)>([](char const* name) { scaledUIBase_RefDllLoaded(name); }), 50, SharedHookPhase::Post);
    SharedHookManager::Instance().RegisterCallback(
        "EarlyStartup", "scaled_con", "scaledCon_EarlyStartup",
        []() { scaledCon_EarlyStartup(); }, 70, SharedHookPhase::Post);
    detour_GL_FindImage::GetManager().RegisterPostCallback(
        "scaled_ui_base", "gl_findimage_post_callback",
        [](void* result, char* filename, int imagetype, char mimap, char allowPicmip) { return gl_findimage_post_callback(result, filename, imagetype, mimap, allowPicmip); },
        100);
    {
        auto& mgr = detour_VID_CheckChanges::GetManager();
        PrintOut(PRINT_LOG, "[RegisterAllFeatureHooks] VID_CheckChanges manager at 0x%p\n", &mgr);
        mgr.RegisterPostCallback(
            "scaled_ui_base", "vid_checkchanges_post",
            []() { vid_checkchanges_post(); },
            100);
        PrintOut(PRINT_LOG, "[RegisterAllFeatureHooks] VID_CheckChanges post callbacks: %zu\n", mgr.GetPostCallbackCount());
    }
    {
        auto& mgr = detour_SV_ShutdownGameProgs::GetManager();
        PrintOut(PRINT_LOG, "[RegisterAllFeatureHooks] SV_ShutdownGameProgs manager at 0x%p\n", &mgr);
        mgr.RegisterPostCallback(
            "core", "sv_shutdowngameprogs_callback",
            []() { sv_shutdowngameprogs_callback(); },
            100);
        PrintOut(PRINT_LOG, "[RegisterAllFeatureHooks] SV_ShutdownGameProgs post callbacks: %zu\n", mgr.GetPostCallbackCount());
    }
}
